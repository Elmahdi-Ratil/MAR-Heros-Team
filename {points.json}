// امر الفل level
const fs = require('fs');
let points = JSON.parse(fs.readFileSync("./points.json", "utf8"));
const prefix = "458751694516256769";

client.on("message", message => {
  if (!message.content.startsWith(prefix)) return;
  if (message.author.bot) return;

  if (!points[message.author.id]) points[message.author.id] = {
    points: 0,
    level: 0
  };
  let userData = points[message.author.id];
  userData.points++;

  let curLevel = Math.floor(0.1 * Math.sqrt(userData.points));
  if (curLevel > userData.level) {
    // Level up!
    userData.level = curLevel;
     message.reply(`**لقد وصلت الى المستوى ${curLevel}**`).then(m => m.delete(100000));
  }

  if (message.content.startsWith(prefix + "level")) {
    
      message.reply(` ** انت في المستوى ${userData.level}  مع ${userData.points} نقاط . ** `).then(m => m.delete(100000));

  }
  fs.writeFile("./points.json", JSON.stringify(points), (err) => {
    if (err) console.error(err)
  });

});


[
    {
        "type": "في عراقي عرقان",
        "answers": ["ف ي ع ر ا ق ي ع ر ق ا ن"]
    },
    {
        "type": "انت فرحان لانك مرحان",
        "answers": ["ا ن ت ف ر ح ا ن ل ا ن ك م ر ح ا ن"]
    },
    {
        "type": "بطاريق بطاريه",
        "answers": ["ب ط ا ر ي ق ب ط ا ر ي ه"]
    },
    {
        "type": "لا تكذب يا صادق",
        "answers": ["ل ا ت ك ذ ب ي ا ص ا د ق "]
    },
    {
        "type": "انا مره غبي وذكي وحمار ",
        "answers": ["ا ن ا م ر ه غ ب ي و ذ ك ي و ح م ا ر"]
    },
    {
        "type": "لحم الحمير محمر ولحم الحمام حرام",
        "answers": ["ل ح م ا ل ح م ي ر م ح م ر و ل ح م ا ل ح م ا م ح ر ا م"]
    },
    {
        "type": "مبطخك مبطخ طباخ المطابخ",
        "answers": ["م ب ط خ ك م ب ط خ ا ل م ط ا ب خ"]
    },
    {
        "type": "انت انا والعكس خطئ بس صحيح",
        "answers": ["ا ن ت ا ن ا و ا ل ع ك س خ ط ء ب س ص ح ي ح"]
    },
    {
        "type": "انا حمار احب تحمير البطاتس",
        "answers": ["ا ن ا ح م ا ر ا ح ب ت ح م ي ر ا ل ب ط ا ت س"]
    }
]
